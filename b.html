<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>THREE.js House Scene</title>
    <style>
        body { margin: 0; }
        canvas { display: block; }
    </style>
</head>
<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.min.js"></script>
    <script>
    class House {
        constructor(scene) {
            this.mesh = new THREE.Group();
            
            // Walls
            const walls = new THREE.BoxGeometry(10, 5, 10);
            const wallMaterial = new THREE.MeshStandardMaterial({ color: 0xe0e0e0 });
            this.mesh.add(new THREE.Mesh(walls, wallMaterial));
            
            // Roof
            const roofGeometry = new THREE.ConeGeometry(10, 3, 4);
            const roofMaterial = new THREE.MeshStandardMaterial({ color: 0x8B4513 });
            const roof = new THREE.Mesh(roofGeometry, roofMaterial);
            roof.position.y = 4;
            roof.rotation.y = Math.PI / 4;
            this.mesh.add(roof);

            scene.add(this.mesh);
        }
    }

    class Table {
        constructor(scene) {
            this.mesh = new THREE.Group();
            
            // Table top
            const top = new THREE.BoxGeometry(3, 0.2, 2);
            const topMesh = new THREE.Mesh(top, new THREE.MeshStandardMaterial({ color: 0x8B4513 }));
            topMesh.position.y = 1;
            
            // Legs
            const legGeom = new THREE.BoxGeometry(0.2, 1, 0.2);
            const legMaterial = new THREE.MeshStandardMaterial({ color: 0x8B4513 });
            for(let x = -1; x <= 1; x += 2) {
                for(let z = -0.75; z <= 0.75; z += 1.5) {
                    const leg = new THREE.Mesh(legGeom, legMaterial);
                    leg.position.set(x, 0.5, z);
                    this.mesh.add(leg);
                }
            }
            
            this.mesh.add(topMesh);
            scene.add(this.mesh);
        }
    }

    class Chair {
        constructor(scene) {
            this.mesh = new THREE.Group();
            
            // Seat
            const seat = new THREE.BoxGeometry(1, 0.2, 1);
            const seatMesh = new THREE.Mesh(seat, new THREE.MeshStandardMaterial({ color: 0x8B4513 }));
            seatMesh.position.y = 0.5;
            
            // Back
            const back = new THREE.BoxGeometry(1.1, 1, 0.2);
            const backMesh = new THREE.Mesh(back, new THREE.MeshStandardMaterial({ color: 0x8B4513 }));
            backMesh.position.y = 1;
            backMesh.position.z = -0.55;

            this.mesh.add(seatMesh, backMesh);
            scene.add(this.mesh);
        }
    }

    class RoofFan {
        constructor(scene) {
            this.mesh = new THREE.Group();
            this.bladeAngle = 0;

            // Base
            const base = new THREE.CylinderGeometry(0.2, 0.2, 0.5, 32);
            const baseMesh = new THREE.Mesh(base, new THREE.MeshStandardMaterial({ color: 0x808080 }));
            baseMesh.position.y = 0.25;

            // Rod
            const rod = new THREE.CylinderGeometry(0.1, 0.1, 1, 32);
            const rodMesh = new THREE.Mesh(rod, new THREE.MeshStandardMaterial({ color: 0x808080 }));
            rodMesh.position.y = 1;

            // Blades
            const bladeGeom = new THREE.BoxGeometry(2, 0.1, 0.2);
            const bladeMaterial = new THREE.MeshStandardMaterial({ color: 0x606060 });
            for(let i = 0; i < 4; i++) {
                const blade = new THREE.Mesh(bladeGeom, bladeMaterial);
                blade.position.y = 1.5;
                blade.rotation.y = i * Math.PI / 2;
                this.mesh.add(blade);
            }

            this.mesh.add(baseMesh, rodMesh);
            scene.add(this.mesh);
        }

        update() {
            this.bladeAngle += 0.1;
            this.mesh.rotation.y = this.bladeAngle;
        }
    }

    // Setup
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer();
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    // Controls
    const controls = new THREE.OrbitControls(camera, renderer.domElement);
    controls.enableDamping = true;
    controls.dampingFactor = 0.05;

    // Objects
    const house = new House(scene);
    const table = new Table(scene);
    table.mesh.position.set(2, 0, 2);
    const chair = new Chair(scene);
    chair.mesh.position.set(2, 0, 4);
    const fan = new RoofFan(scene);
    fan.mesh.position.set(0, 5, 0);

    // Lights
    const ambientLight = new THREE.AmbientLight(0x404040);
    const directionalLight = new THREE.DirectionalLight(0xffffff, 0.5);
    directionalLight.position.set(5, 10, 7.5);
    scene.add(ambientLight, directionalLight);

    // Camera position
    camera.position.set(15, 10, 15);

    // Key controls
    const keys = { w: false, s: false, a: false, d: false };
    document.addEventListener('keydown', (e) => { keys[e.key] = true; });
    document.addEventListener('keyup', (e) => { keys[e.key] = false; });

    function animate() {
        requestAnimationFrame(animate);
        
        // Fan animation
        fan.update();

        // Movement
        const speed = 0.1;
        if(keys.w) camera.position.z -= speed;
        if(keys.s) camera.position.z += speed;
        if(keys.a) camera.position.x -= speed;
        if(keys.d) camera.position.x += speed;

        controls.update();
        renderer.render(scene, camera);
    }

    animate();
    </script>
</body>
</html>